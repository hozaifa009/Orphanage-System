<?php

    include_once "FileManager.php";
    //echo "Besmeelah  " .$_REQUEST["ID"];
    class ActivityDetails
    {
        private $id;
        private $userid;
        private $ActivityID;
        private $realtime;
        private $Donetime;
        private $rating;
        private $objectFILE;
        public function set_Id($id)
        {
            $this->id=$id;
        }
       public function get_Id()
        {
            return $this->id;
        }
        public function set_UserId($userid)
        {
            $this->userid=$userid;
        }
        public function get_UserId()
        {
            return $this->userid;
        }
        public function set_ActivityID($ActivityID)
        {
            $this->ActivityID=$ActivityID;
        }
        public function get_ActivityID()
        {
            return $this->ActivityID;
        }
        public function set_realtime($realtime)
        {
            $this->realtime=$realtime;
        }
        public function get_realtime()
        {
            return $this->realtime;
        }
        public function set_rating($rating)
        {
            $this->rating=$rating;
        }
        public function get_rating()
        {
            return $this->rating;
        }
        public function __construct() 
        {
            $this->objectFILE = new FileManeger();
            $this->objectFILE->set_Filename("Daily.txt");
            $this->objectFILE->set_Separator("~");
        }
        public function Define()
        {
            //$this->id= $_REQUEST["ID"];    //hereeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
            $this->id= 1;
            $SearchedLine=$this->objectFILE->SearchFor($this->id);
            $Array=explode("~",$SearchedLine);
            for($i=0;$i<count($Array);$i++)
            {
                if($i==1)
                {
                    $this->userid=$Array[$i];
                }
                if($i==4)
                {
                    $this->realtime=$Array[$i];
                }
                if($i == 2)
                {
                    $this->objectFILE->set_Filename("Activities.txt");
                    $neededid=$this->objectFILE->getIDbyName($Array[$i],0);
                    $this->ActivityID=$neededid;
                }
            }
            return $this->realtime;
        }
        public function StoreRecord()
        {
            $this->objectFILE->set_Filename("Details.txt");
            $record=$this->id."~".$this->userid."~".$this->ActivityID."~".$this->realtime;
            $this->objectFILE->Write($record);
        }
        public function ToDraw()
        {
            $Myfile=fopen("Details.php","r+");
            while(!feof($Myfile))
            {
                $Line=fgets($Myfile);
                
            }
        }
        public function test2() 
        {
            $this->id=1;
            return $this->id;
        }
    }

?>
